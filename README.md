**This is pre-release version. Several necessary features are not implemented.**

ruststep
=========

Crates for STEP (Standard for the Exchange of Product model data) written in pure Rust
aimed at replacing [stepcode](https://github.com/stepcode/stepcode).

What is STEP?
--------------

- STEP is a set of data serialize formats, schema language, and common schemas.
- Data serialize format is called **exchange structure** in ISO document, but usually called **STEP file**,
  They are serialized as ASCII text (ISO-10303-21, usually with extension `*.step`, `*.stp` or `*.p21`) or XML (ISO-10303-28).
- Schema language is called **EXPRESS**. EXPRESS file is usually named with extension `*.exp`.
- Many common schemas are defined in ISO-10303 by EXPRESS language.
  - [schemas](./schemas) contains copies
  - Application Protocol (AP) is a class of defined schemas, and the main target of this project.
  - AP203 is most famous one in CAD (computer-aided design) applications.

### Rosetta Stone for web developers

|                 | Protocol Buffers                                           | STEP (ISO 10303)                                         |
|:----------------|:-----------------------------------------------------------|:---------------------------------------------------------|
| Schema Language | [Protocol Buffers Version 3 Language Specification][pbspec]| EXPRESS Language (ISO 10303-11)                          |
| Schema file     | `*.proto` file                                             | `*.exp` file                                             |
| Data            | [Encoded Binary data][pbencoding]                          | "Exchange structure", `*.step` file (ASCII, ISO 10303-21)|
| Compiler        | protoc                                                     | esprc                                                    |

[pbspec]: https://developers.google.com/protocol-buffers/docs/reference/proto3-spec
[pbencoding]: https://developers.google.com/protocol-buffers/docs/encoding

Architecture
-------------

This project consists of following crates:

| name         | document                                                                            | description                                                        |
|:-------------|:------------------------------------------------------------------------------------|:-------------------------------------------------------------------|
| espr         | [![cargo-doc](https://badgen.net/badge/espr/master/blue)][espr-doc]                 | [EXPRESS Language (ISO 10303-11)][EXPRESS] Compiler                |
| expr-runtime | [![cargo-doc](https://badgen.net/badge/espr-runtime/master/blue)][espr-runtime-doc] | Runtime of expr compiler                                           |
| ruststep     | [![cargo-doc](https://badgen.net/badge/ruststep/master/blue)][ruststep-doc]         | Codes generated by espr compiler, and IO for ASCII and XML formats |

[espr-doc]: https://ricosjp.github.io/ruststep/espr/index.html
[espr-runtime-doc]: https://ricosjp.github.io/ruststep/espr-runtime/index.html
[ruststep-doc]: https://ricosjp.github.io/ruststep/ruststep/index.html
[EXPRESS]: https://www.iso.org/standard/38047.html

See [ARCHITECTURE.md](./ARCHITECTURE.md) for detail.

License
--------
Copyright 2021 RICOS Co. Ltd.

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.

### Exception

The following directories are included for development purpose.
**They are not parts of this project**.

- [schemas](./schemas)
- [espr-runtime/tests/steps](./espr-runtime/tests/steps)
